---
title: 'TPAD'
sidebar_position: 11
---

# TPAD

电容触摸按键实验

## 前言

上一章，我们介绍了STM32N647的输入捕获功能及其使用。这一章，我们将向大家介绍如何通过输入捕获功能，来做一个电容触摸按键。在本章中，我们将用 TIM2的通道4（ PF6）来做输入捕获，并实现一个简单的电容触摸按键，通过该按键控制 DS1 的亮灭。。

利用开发板板载的电容触摸按键(右下角白色LOGO，即TPAD)，通过TIM2_CH4（PF6）对电容触摸按键的检测，实现对DS1的控制, 下载本代码后，我们通过按压开发板右下角的TPAD按钮，就可以控制DS1的亮灭了。

## 实验准备

1. 编写成功后，切换BOOT1跳线帽至3.3V处，便可进行程序下载，下载完之后，将BOOT1跳线帽切换回GND处，对开发板重新上电。
1. 本实验需要用跳线帽短接多功能端口（P14）的TPAD和ADC

## 实验现象

下载代码后，可以看到 LED0 不停闪烁（每400ms 闪烁一次），用手指按下电容按键时，LED1 的状态发生改变（亮灭交替一次）。这里记得 TPAD 引脚和PF6都是连接到开发板上的排针上的，开始测试前需要连接好，否则测试就不准了，如果下载代码前没有连接好，请连接后复位重新测试即可。
